<!--
  Generated template for the PerfilPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
	<ion-navbar>
		<ion-row>
			<ion-col col-10>
				<ion-title text-center>Perfil de Padre</ion-title>
			</ion-col>
			<ion-col col-2>
				<button ion-button class="button-edit" *ngIf="!editing" (tap)="startEditing()" icon-only float-right>
					<ion-icon name="create"></ion-icon>
				</button>
			</ion-col>
		</ion-row>
	</ion-navbar>
</ion-header>


<ion-content class="bg-theme">
	<div class="contenido-Perfil">
		<div class="perfil-contenido">
			<ion-row class="row-style">
				<ion-col col-5 class="col-align">
					<ion-avatar text-center>
						<img class="img-profile" src="assets/imgs/padreuser.png">
					</ion-avatar>
				</ion-col>
				<ion-col col-7>
					<ion-row>
						<ion-col col-3>
							<img class="icon-profile" src="assets/imgs/name.png">
						</ion-col>
						<ion-col col-9 class="col-align" no-padding>
							<p class="infor-quest">Nombre</p>
							<ion-label class="Infor-Person" *ngIf="!editing">{{NombreUsuario}}</ion-label>
							<ion-item *ngIf="editing" style="margin-bottom: 10px" no-lines no-padding>
								<ion-input text-center [(ngModel)]="newNombreUsuario"></ion-input>
							</ion-item>
						</ion-col>
					</ion-row>
					<ion-row>
						<ion-col col-3>
							<img class="icon-profile" src="assets/imgs/dni3.png">
						</ion-col>
						<ion-col col-9 class="col-align" no-padding>
							<p class="infor-quest">DNI</p>
							<ion-label class="Infor-Person" *ngIf="!editing">{{DniUsuario}}</ion-label>
							<ion-item *ngIf="editing" no-lines no-padding>
								<ion-input text-center [(ngModel)]="newDniUsuario"></ion-input>
							</ion-item>
						</ion-col>
					</ion-row>
				</ion-col>
			</ion-row>
		</div>
	</div>
	<ion-list>
		<ion-row class="row-style">
			<ion-col col-2 class="col-align">
				<ion-avatar item-start>
					<img class="icon-profile" src="assets/imgs/phone.png">
				</ion-avatar>
			</ion-col>
			<ion-col col-10 no-padding>
				<p class="infor-quest">Telefóno</p>
				<ion-label class="infor-form__text" *ngIf="!editing">{{TlfUsuario}}</ion-label>
				<ion-item *ngIf="editing" class="item-edit">
					<ion-input text-center [(ngModel)]="newTlfUsuario"></ion-input>
				</ion-item>
			</ion-col>
		</ion-row>
		<ion-row class="row-style">
			<ion-col col-2 class="col-align">
				<ion-avatar item-start>
					<img class="icon-profile" src="assets/imgs/email2.png">
				</ion-avatar>
			</ion-col>
			<ion-col col-10 no-padding>
				<p class="infor-quest">Mail</p>
				<ion-label class="infor-form__text" *ngIf="!editing">{{Email}}</ion-label>
				<ion-item *ngIf="editing" class="item-edit">
					<ion-input text-center [(ngModel)]="newEmail"></ion-input>
				</ion-item>
			</ion-col>
		</ion-row>
	</ion-list>
	<ion-list class="listwo">
		<ion-row class="row-style">
			<ion-col col-2 class="col-align">
				<ion-avatar item-start>
					<img class="icon-profile" src="assets/imgs/childs.png">
				</ion-avatar>
			</ion-col>
			<ion-col col-10 no-padding>
				<p class="title-car">Niños Registrados</p>
			</ion-col>
		</ion-row>
		<ion-row class="row-style" *ngFor="let c of children" >
			<ion-item-sliding *ngIf="c.user_id == id">
				<ion-item>
					<ion-avatar item-start>
						<img class="img-kid" src="assets/imgs/kiid.png">
					</ion-avatar>
					<h2 class="title-kid">{{ c.full_name }}</h2>
					<ion-row>
						<ion-col col-2>
							<img class="icon-profile" src="assets/imgs/school.png">
						</ion-col>
						<ion-col col-10 style="align-self: center" no-padding>
							<p>{{ c.scholl_id }}</p>
						</ion-col>
					</ion-row>
				</ion-item>
				<ion-item-options side="right" class="items-options">
					<ion-row text-center>
						<ion-col col-2>
						</ion-col>
						<ion-col col-4 no-padding>
							<button ion-button color="primary" (tap)="MoveToProfileChild(c.id)">
								<ion-icon name="create"></ion-icon>
								Editar
							</button>
						</ion-col>
						<ion-col col-4 no-padding>
							<button ion-button color="danger" (tap)="deleteChild(c.id)">
								<ion-icon name="trash"></ion-icon>
								Borrar
							</button>
						</ion-col>
						<ion-col col-2>
						</ion-col>
					</ion-row>
				</ion-item-options>
			</ion-item-sliding>
		</ion-row>
		<!-- <ion-row class="row-style">
			<ion-item-sliding>
				<ion-item>
					<ion-avatar item-start>
						<img class="img-kid" src="assets/imgs/kiid.png">
					</ion-avatar>
					<h2 class="title-kid">Maria Rodriguez</h2>
					<ion-row>
						<ion-col col-2>
							<img class="icon-profile" src="assets/imgs/school.png">
						</ion-col>
						<ion-col col-10 style="align-self: center" no-padding>
							<p>San Jose</p>
						</ion-col>
					</ion-row>
				</ion-item>
				<ion-item-options side="right" class="items-options">
					<ion-row text-center>
						<ion-col col-2>
						</ion-col>
						<ion-col col-4 no-padding>
							<button ion-button color="primary" (tap)="MoveToProfileChild()">
								<ion-icon name="create"></ion-icon>
								Editar
							</button>
						</ion-col>
						<ion-col col-4 no-padding>
							<button ion-button color="danger">
								<ion-icon name="trash"></ion-icon>
								Borrar
							</button>
						</ion-col>
						<ion-col col-2>
						</ion-col>
					</ion-row>
				</ion-item-options>
			</ion-item-sliding>
		</ion-row> -->
		<ion-fab bottom right>
		    <button ion-fab class="fab-button" color="yellow" (tap)="newChild()"><img src="assets/imgs/addpadre.png"></button>
		</ion-fab>
	</ion-list>
	<ion-row class="row-buttons">
		<div class="buttons" *ngIf="editing">
			<ion-col col-6>
				<button ion-button color="danger" (click)="cancel()" icon-left>
					<ion-icon name="close"></ion-icon>
					Cancelar
				</button>
			</ion-col>
			<ion-col col-6>
				<button ion-button (click)="accept()" icon-left>
					<ion-icon name="checkmark"></ion-icon>
					Guardar Cambios
				</button>
			</ion-col>
		</div>
	</ion-row>
</ion-content>
